[gd_scene load_steps=21 format=3 uid="uid://683iuish3sen"]

[ext_resource type="PackedScene" uid="uid://dmlkc3rq0lit7" path="res://models/mando_model_v01.fbx" id="1_rwspt"]
[ext_resource type="Animation" uid="uid://ddwpbr6ew4137" path="res://animations/mando_animation_idle_v01.res" id="2_fj2ko"]
[ext_resource type="PackedScene" uid="uid://c2qsac80qiqq6" path="res://models/sword_model_v01.fbx" id="2_vqn31"]
[ext_resource type="Script" uid="uid://cdntwhlvhy4xh" path="res://visual.gd" id="2_xv1ao"]
[ext_resource type="Material" uid="uid://c5725p4j64kxf" path="res://materials/mando_material.tres" id="3_gblxj"]
[ext_resource type="Animation" uid="uid://b4jujbdu54k1b" path="res://animations/mando_animation_slash_v01.res" id="3_vqn31"]
[ext_resource type="Material" uid="uid://dnl01lxdeh1ju" path="res://materials/sword_material.tres" id="4_8u4em"]
[ext_resource type="Animation" uid="uid://bxex1offf3smf" path="res://animations/mando_animation_walk_v01.res" id="6_n0fsh"]

[sub_resource type="BoxShape3D" id="BoxShape3D_n0fsh"]
size = Vector3(0.55474854, 1.3056641, 0.13677979)

[sub_resource type="Animation" id="Animation_n0fsh"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton3D/BoneAttachment3D/sword/SwordArea/CollisionShape3D:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_8u4em"]
_data = {
&"RESET": SubResource("Animation_n0fsh")
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_xv1ao"]
_data = {
&"mando_idle": ExtResource("2_fj2ko"),
&"mando_swipe": ExtResource("3_vqn31"),
&"mando_walk": ExtResource("6_n0fsh")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vqn31"]
animation = &"mando/mando_idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8u4em"]
animation = &"mando/mando_walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xv1ao"]
animation = &"mando/mando_swipe"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_n0fsh"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8u4em"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gblxj"]
advance_mode = 2
advance_expression = "is_moving == true"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xjpdu"]
advance_mode = 2
advance_expression = "is_moving == false"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_gblxj"]
states/mando_idle/node = SubResource("AnimationNodeAnimation_vqn31")
states/mando_idle/position = Vector2(365, 97)
states/mando_mando_walk/node = SubResource("AnimationNodeAnimation_8u4em")
states/mando_mando_walk/position = Vector2(613, 41)
states/mando_swipe/node = SubResource("AnimationNodeAnimation_xv1ao")
states/mando_swipe/position = Vector2(640, 191)
transitions = ["mando_idle", "mando_swipe", SubResource("AnimationNodeStateMachineTransition_n0fsh"), "mando_swipe", "mando_idle", SubResource("AnimationNodeStateMachineTransition_8u4em"), "mando_idle", "mando_mando_walk", SubResource("AnimationNodeStateMachineTransition_gblxj"), "mando_mando_walk", "mando_idle", SubResource("AnimationNodeStateMachineTransition_xjpdu")]

[node name="SalamanderVisual" instance=ExtResource("1_rwspt")]
script = ExtResource("2_xv1ao")

[node name="Skeleton3D" parent="." index="0"]
bones/1/position = Vector3(0, 0.29991278, 0.007234026)
bones/1/rotation = Quaternion(0.012057588, 0, 0, 0.9999273)
bones/2/position = Vector3(0, 0.3, -1.0408341e-17)
bones/2/rotation = Quaternion(0, 0, 0, 1)
bones/5/position = Vector3(-1.110223e-16, 0.27921474, 2.220446e-16)
bones/6/position = Vector3(-1.6653345e-16, 0.31097236, 0)
bones/7/position = Vector3(0.02180004, 0.104382515, 5.551115e-17)
bones/14/position = Vector3(2.220446e-16, 0.25899082, 4.1003396e-17)
bones/14/rotation = Quaternion(-1.2325952e-32, 3.081488e-33, 0, 1)
bones/15/rotation = Quaternion(-0.019072467, 0.50849295, -0.28298396, 0.8130137)
bones/15/scale = Vector3(0.99999994, 1, 0.99999994)
bones/16/rotation = Quaternion(-1.406916e-16, 4.328973e-17, 0.2739715, 0.9617378)
bones/17/rotation = Quaternion(0.11006348, 0.41247562, 1.20043715e-05, 0.90429527)
bones/17/scale = Vector3(20.000002, 20, 20.000002)
bones/18/rotation = Quaternion(0.8130147, 0.2829841, 0.5084913, 0.01907229)
bones/19/position = Vector3(-5.551115e-17, 0.34472257, -6.661338e-16)
bones/19/rotation = Quaternion(-7.828224e-16, -4.3289703e-17, 0.27397102, 0.96173793)
bones/20/position = Vector3(5.551115e-17, 0.3878608, 2.7755576e-16)
bones/20/rotation = Quaternion(0.055768892, 0.20900428, 1.3418625e-05, 0.9763232)

[node name="mando" parent="Skeleton3D" index="0"]
surface_material_override/0 = ExtResource("3_gblxj")

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Skeleton3D" index="1"]
transform = Transform3D(-0.3296634, -0.26096138, 0.90731525, -0.63780344, 0.7701315, -0.010234479, -0.6960813, -0.5820629, -0.42032638, -0.55406904, 0.90050435, 0.0374826)
bone_name = "R_WeaponAttach_JNT"
bone_idx = 12

[node name="sword" parent="Skeleton3D/BoneAttachment3D" index="0" instance=ExtResource("2_vqn31")]
transform = Transform3D(-0.47155395, -0.10234985, -0.8758775, -0.21210942, 0.97724605, 0, 0.8559478, 0.18578185, -0.4825335, 0, 0, 0)

[node name="sword" parent="Skeleton3D/BoneAttachment3D/sword" index="0"]
surface_material_override/0 = ExtResource("4_8u4em")

[node name="SwordArea" type="Area3D" parent="Skeleton3D/BoneAttachment3D/sword" index="1"]
unique_name_in_owner = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="Skeleton3D/BoneAttachment3D/sword/SwordArea" index="0"]
transform = Transform3D(1, -8.195639e-08, 9.313226e-10, 6.146729e-08, 4.4703484e-08, -0.99999994, 3.054738e-07, 1, 2.9802322e-08, 0.0027926564, -0.0018635392, 0.5429816)
shape = SubResource("BoxShape3D_n0fsh")
debug_color = Color(1, 0, 1, 1)

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="1"]
libraries = {
&"": SubResource("AnimationLibrary_8u4em"),
&"mando": SubResource("AnimationLibrary_xv1ao")
}

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeStateMachine_gblxj")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../AnimationPlayer")

[editable path="Skeleton3D/BoneAttachment3D/sword"]
